(function (d3, topojson) {
  'use strict';

  const loadAndProcessData = () => 
    Promise
      .all([
        d3.csv('https://gist.githubusercontent.com/curran/e7ed69ac1528ff32cc53b70fdce16b76/raw/61f3c156efd532ae6ed84b38102cf9a0b3b1d094/data.csv'),
        d3.json('https://unpkg.com/visionscarto-world-atlas@0.0.4/world/50m.json')
      ])
      .then(([unData, topoJSONdata]) => {
       
        const rowById = unData.reduce((accumulator, d) => {
          accumulator[d['Country code']] = d;      
          return accumulator;
        }, {});

        const countries = topojson.feature(topoJSONdata, topoJSONdata.objects.countries);

        countries.features.forEach(d => {
          Object.assign(d.properties, rowById[+d.id]);
        });
        
        const featuresWithPopulation = countries.features
          .filter(d => d.properties['2018'])
          .map(d => {
            d.properties['2018'] = +d.properties['2018'].replace(/ /g, '') * 1000;
            return d;
          });

        return {
          features: countries.features,
          featuresWithPopulation
        };
      });

  const sizeLegend = (selection, props) => {
    const {
      sizeScale,
      spacing,
      textOffset,
      numTicks,
      tickFormat
    } = props;
    
    const ticks = sizeScale.ticks(numTicks)
      .filter(d => d !== 0)
      .reverse();

    const groups = selection.selectAll('g').data(ticks);
    const groupsEnter = groups
      .enter().append('g')
        .attr('class', 'tick');
    groupsEnter
      .merge(groups)
        .attr('transform', (d, i) =>
          `translate(0, ${i * spacing})`
        );
    groups.exit().remove();
    
    groupsEnter.append('circle')
      .merge(groups.select('circle'))
        .attr('r', sizeScale);
    
    groupsEnter.append('text')
      .merge(groups.select('text'))
        .text(tickFormat)
        .attr('dy', '0.32em')
        .attr('x', d => sizeScale(d) + textOffset);
    
  };

  const svg = d3.select('svg');

  const projection = d3.geoNaturalEarth1();
  const pathGenerator = d3.geoPath().projection(projection);
  const radiusValue = d => d.properties['2018'];

  const g = svg.append('g');

  const colorLegendG = svg.append('g').attr('transform', `translate(40,310)`);

  g.append('path')
    .attr('class', 'sphere')
    .attr('d', pathGenerator({ type: 'Sphere' }));

  svg.call(
    d3.zoom().on('zoom', () => {
      g.attr('transform', d3.event.transform);
    })
  );

  const populationFormat = d3.format(',');

  loadAndProcessData().then(countries => {
    const sizeScale = d3.scaleSqrt()
      .domain([0, d3.max(countries.features, radiusValue)])
      .range([0, 33]);

    g.selectAll('path')
      .data(countries.features)
      .enter()
      .append('path')
      .attr('class', 'country')
      .attr('d', pathGenerator)
      .attr('fill', d => (d.properties['2018'] ? '#e8e8e8' : '#fecccc'))
      .append('title')
      .text(d =>
        isNaN(radiusValue(d))
          ? 'Missing data'
          : [
              d.properties['Region, subregion, country or area *'],
              populationFormat(radiusValue(d))
            ].join(': ')
      );

    countries.featuresWithPopulation.forEach(d => {
      d.properties.projected = projection(d3.geoCentroid(d));
    });

    g.selectAll('circle')
      .data(countries.featuresWithPopulation)
      .enter()
      .append('circle')
      .attr('class', 'country-circle')
      .attr('cx', d => d.properties.projected[0])
      .attr('cy', d => d.properties.projected[1])
      .attr('r', d => sizeScale(radiusValue(d)));

    g.append('g')
      .attr('transform', `translate(45,215)`)
      .call(sizeLegend, {
        sizeScale,
        spacing: 45,
        textOffset: 10,
        numTicks: 5,
        tickFormat: populationFormat
      })
      .append('text')
      .attr('class', 'legend-title')
      .text('Population')
      .attr('y', -45)
      .attr('x', -30);
  });

}(d3, topojson));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImxvYWRBbmRQcm9jZXNzRGF0YS5qcyIsInNpemVMZWdlbmQuanMiLCJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmZWF0dXJlIH0gZnJvbSAndG9wb2pzb24nO1xuaW1wb3J0IHsgY3N2LCBqc29uIH0gZnJvbSAnZDMnO1xuXG5leHBvcnQgY29uc3QgbG9hZEFuZFByb2Nlc3NEYXRhID0gKCkgPT4gXG4gIFByb21pc2VcbiAgICAuYWxsKFtcbiAgICAgIGNzdignaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jdXJyYW4vZTdlZDY5YWMxNTI4ZmYzMmNjNTNiNzBmZGNlMTZiNzYvcmF3LzYxZjNjMTU2ZWZkNTMyYWU2ZWQ4NGIzODEwMmNmOWEwYjNiMWQwOTQvZGF0YS5jc3YnKSxcbiAgICAgIGpzb24oJ2h0dHBzOi8vdW5wa2cuY29tL3Zpc2lvbnNjYXJ0by13b3JsZC1hdGxhc0AwLjAuNC93b3JsZC81MG0uanNvbicpXG4gICAgXSlcbiAgICAudGhlbigoW3VuRGF0YSwgdG9wb0pTT05kYXRhXSkgPT4ge1xuICAgICBcbiAgICAgIGNvbnN0IHJvd0J5SWQgPSB1bkRhdGEucmVkdWNlKChhY2N1bXVsYXRvciwgZCkgPT4ge1xuICAgICAgICBhY2N1bXVsYXRvcltkWydDb3VudHJ5IGNvZGUnXV0gPSBkOyAgICAgIFxuICAgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgICB9LCB7fSk7XG5cbiAgICAgIGNvbnN0IGNvdW50cmllcyA9IGZlYXR1cmUodG9wb0pTT05kYXRhLCB0b3BvSlNPTmRhdGEub2JqZWN0cy5jb3VudHJpZXMpO1xuXG4gICAgICBjb3VudHJpZXMuZmVhdHVyZXMuZm9yRWFjaChkID0+IHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihkLnByb3BlcnRpZXMsIHJvd0J5SWRbK2QuaWRdKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBmZWF0dXJlc1dpdGhQb3B1bGF0aW9uID0gY291bnRyaWVzLmZlYXR1cmVzXG4gICAgICAgIC5maWx0ZXIoZCA9PiBkLnByb3BlcnRpZXNbJzIwMTgnXSlcbiAgICAgICAgLm1hcChkID0+IHtcbiAgICAgICAgICBkLnByb3BlcnRpZXNbJzIwMTgnXSA9ICtkLnByb3BlcnRpZXNbJzIwMTgnXS5yZXBsYWNlKC8gL2csICcnKSAqIDEwMDA7XG4gICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBmZWF0dXJlczogY291bnRyaWVzLmZlYXR1cmVzLFxuICAgICAgICBmZWF0dXJlc1dpdGhQb3B1bGF0aW9uXG4gICAgICB9O1xuICAgIH0pO1xuIiwiZXhwb3J0IGNvbnN0IHNpemVMZWdlbmQgPSAoc2VsZWN0aW9uLCBwcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgc2l6ZVNjYWxlLFxuICAgIHNwYWNpbmcsXG4gICAgdGV4dE9mZnNldCxcbiAgICBudW1UaWNrcyxcbiAgICB0aWNrRm9ybWF0XG4gIH0gPSBwcm9wcztcbiAgXG4gIGNvbnN0IHRpY2tzID0gc2l6ZVNjYWxlLnRpY2tzKG51bVRpY2tzKVxuICAgIC5maWx0ZXIoZCA9PiBkICE9PSAwKVxuICAgIC5yZXZlcnNlKCk7XG5cbiAgY29uc3QgZ3JvdXBzID0gc2VsZWN0aW9uLnNlbGVjdEFsbCgnZycpLmRhdGEodGlja3MpO1xuICBjb25zdCBncm91cHNFbnRlciA9IGdyb3Vwc1xuICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAndGljaycpO1xuICBncm91cHNFbnRlclxuICAgIC5tZXJnZShncm91cHMpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+XG4gICAgICAgIGB0cmFuc2xhdGUoMCwgJHtpICogc3BhY2luZ30pYFxuICAgICAgKTtcbiAgZ3JvdXBzLmV4aXQoKS5yZW1vdmUoKTtcbiAgXG4gIGdyb3Vwc0VudGVyLmFwcGVuZCgnY2lyY2xlJylcbiAgICAubWVyZ2UoZ3JvdXBzLnNlbGVjdCgnY2lyY2xlJykpXG4gICAgICAuYXR0cigncicsIHNpemVTY2FsZSk7XG4gIFxuICBncm91cHNFbnRlci5hcHBlbmQoJ3RleHQnKVxuICAgIC5tZXJnZShncm91cHMuc2VsZWN0KCd0ZXh0JykpXG4gICAgICAudGV4dCh0aWNrRm9ybWF0KVxuICAgICAgLmF0dHIoJ2R5JywgJzAuMzJlbScpXG4gICAgICAuYXR0cigneCcsIGQgPT4gc2l6ZVNjYWxlKGQpICsgdGV4dE9mZnNldCk7XG4gIFxufSIsImltcG9ydCB7XG4gIHNlbGVjdCxcbiAgZ2VvUGF0aCxcbiAgZ2VvQ2VudHJvaWQsXG4gIGdlb05hdHVyYWxFYXJ0aDEsXG4gIHpvb20sXG4gIGV2ZW50LFxuICBzY2FsZU9yZGluYWwsXG4gIHNjaGVtZVNwZWN0cmFsLFxuICBzY2FsZVNxcnQsXG4gIG1heCxcbiAgZm9ybWF0XG59IGZyb20gJ2QzJztcbmltcG9ydCB7IGxvYWRBbmRQcm9jZXNzRGF0YSB9IGZyb20gJy4vbG9hZEFuZFByb2Nlc3NEYXRhJztcbmltcG9ydCB7IHNpemVMZWdlbmQgfSBmcm9tICcuL3NpemVMZWdlbmQnO1xuXG5jb25zdCBzdmcgPSBzZWxlY3QoJ3N2ZycpO1xuXG5jb25zdCBwcm9qZWN0aW9uID0gZ2VvTmF0dXJhbEVhcnRoMSgpO1xuY29uc3QgcGF0aEdlbmVyYXRvciA9IGdlb1BhdGgoKS5wcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuY29uc3QgcmFkaXVzVmFsdWUgPSBkID0+IGQucHJvcGVydGllc1snMjAxOCddO1xuXG5jb25zdCBnID0gc3ZnLmFwcGVuZCgnZycpO1xuXG5jb25zdCBjb2xvckxlZ2VuZEcgPSBzdmcuYXBwZW5kKCdnJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSg0MCwzMTApYCk7XG5cbmcuYXBwZW5kKCdwYXRoJylcbiAgLmF0dHIoJ2NsYXNzJywgJ3NwaGVyZScpXG4gIC5hdHRyKCdkJywgcGF0aEdlbmVyYXRvcih7IHR5cGU6ICdTcGhlcmUnIH0pKTtcblxuc3ZnLmNhbGwoXG4gIHpvb20oKS5vbignem9vbScsICgpID0+IHtcbiAgICBnLmF0dHIoJ3RyYW5zZm9ybScsIGV2ZW50LnRyYW5zZm9ybSk7XG4gIH0pXG4pO1xuXG5jb25zdCBwb3B1bGF0aW9uRm9ybWF0ID0gZm9ybWF0KCcsJyk7XG5cbmxvYWRBbmRQcm9jZXNzRGF0YSgpLnRoZW4oY291bnRyaWVzID0+IHtcbiAgY29uc3Qgc2l6ZVNjYWxlID0gc2NhbGVTcXJ0KClcbiAgICAuZG9tYWluKFswLCBtYXgoY291bnRyaWVzLmZlYXR1cmVzLCByYWRpdXNWYWx1ZSldKVxuICAgIC5yYW5nZShbMCwgMzNdKTtcblxuICBnLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgLmRhdGEoY291bnRyaWVzLmZlYXR1cmVzKVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgncGF0aCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2NvdW50cnknKVxuICAgIC5hdHRyKCdkJywgcGF0aEdlbmVyYXRvcilcbiAgICAuYXR0cignZmlsbCcsIGQgPT4gKGQucHJvcGVydGllc1snMjAxOCddID8gJyNlOGU4ZTgnIDogJyNmZWNjY2MnKSlcbiAgICAuYXBwZW5kKCd0aXRsZScpXG4gICAgLnRleHQoZCA9PlxuICAgICAgaXNOYU4ocmFkaXVzVmFsdWUoZCkpXG4gICAgICAgID8gJ01pc3NpbmcgZGF0YSdcbiAgICAgICAgOiBbXG4gICAgICAgICAgICBkLnByb3BlcnRpZXNbJ1JlZ2lvbiwgc3VicmVnaW9uLCBjb3VudHJ5IG9yIGFyZWEgKiddLFxuICAgICAgICAgICAgcG9wdWxhdGlvbkZvcm1hdChyYWRpdXNWYWx1ZShkKSlcbiAgICAgICAgICBdLmpvaW4oJzogJylcbiAgICApO1xuXG4gIGNvdW50cmllcy5mZWF0dXJlc1dpdGhQb3B1bGF0aW9uLmZvckVhY2goZCA9PiB7XG4gICAgZC5wcm9wZXJ0aWVzLnByb2plY3RlZCA9IHByb2plY3Rpb24oZ2VvQ2VudHJvaWQoZCkpO1xuICB9KTtcblxuICBnLnNlbGVjdEFsbCgnY2lyY2xlJylcbiAgICAuZGF0YShjb3VudHJpZXMuZmVhdHVyZXNXaXRoUG9wdWxhdGlvbilcbiAgICAuZW50ZXIoKVxuICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2NvdW50cnktY2lyY2xlJylcbiAgICAuYXR0cignY3gnLCBkID0+IGQucHJvcGVydGllcy5wcm9qZWN0ZWRbMF0pXG4gICAgLmF0dHIoJ2N5JywgZCA9PiBkLnByb3BlcnRpZXMucHJvamVjdGVkWzFdKVxuICAgIC5hdHRyKCdyJywgZCA9PiBzaXplU2NhbGUocmFkaXVzVmFsdWUoZCkpKTtcblxuICBnLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoNDUsMjE1KWApXG4gICAgLmNhbGwoc2l6ZUxlZ2VuZCwge1xuICAgICAgc2l6ZVNjYWxlLFxuICAgICAgc3BhY2luZzogNDUsXG4gICAgICB0ZXh0T2Zmc2V0OiAxMCxcbiAgICAgIG51bVRpY2tzOiA1LFxuICAgICAgdGlja0Zvcm1hdDogcG9wdWxhdGlvbkZvcm1hdFxuICAgIH0pXG4gICAgLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZC10aXRsZScpXG4gICAgLnRleHQoJ1BvcHVsYXRpb24nKVxuICAgIC5hdHRyKCd5JywgLTQ1KVxuICAgIC5hdHRyKCd4JywgLTMwKTtcbn0pO1xuIl0sIm5hbWVzIjpbImNzdiIsImpzb24iLCJmZWF0dXJlIiwic2VsZWN0IiwiZ2VvTmF0dXJhbEVhcnRoMSIsImdlb1BhdGgiLCJ6b29tIiwiZXZlbnQiLCJmb3JtYXQiLCJzY2FsZVNxcnQiLCJtYXgiLCJnZW9DZW50cm9pZCJdLCJtYXBwaW5ncyI6Ijs7O0VBR08sTUFBTSxrQkFBa0IsR0FBRztJQUNoQyxPQUFPO09BQ0osR0FBRyxDQUFDO1FBQ0hBLE1BQUcsQ0FBQyxrSUFBa0ksQ0FBQztRQUN2SUMsT0FBSSxDQUFDLGlFQUFpRSxDQUFDO09BQ3hFLENBQUM7T0FD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